{% extends "app_shell.html" %}

{% block title %}Payments{% endblock %}

{% block content %}

  <h2>All Payments</h2>

  <table class="min-w-full bg-gray-300 border border-gray-300">

    <thead>
      <tr class="text-left">
        <th class="py-2 px-4 border-b">Student Name</th>
        <th class="py-2 px-4 border-b">Amount Paid</th>
        <th class="py-2 px-4 border-b">Payment Date</th>
        <th class="py-2 px-4 border-b">Payment Status</th>
      </tr>
    </thead>

    <tbody>
      {% for student in students %}
        <tr>
          
          <td class="py-2 px-4 border-b">{{ student.first_name }} {{ student.last_name }}</td>

          <td class="py-2 px-4 border-b">
            {% for payment in payments %}
              {% if payment.student == student %}
                {{ payment.amount }}
              {% endif %}
            {% endfor %}
          </td>

          <td class="py-2 px-4 border-b">
            {% for payment in payments %}
              {% if payment.student == student %}
                {{ payment.date }}
              {% endif %}
            {% endfor %}
          </td>

          <td class="py-2 px-4 border-b">
            {% for payment in payments %}
              {% if payment.student == student %}
                {{ payment.status }}
              {% endif %}
            {% endfor %}
          </td>

        </tr>
      {% endfor %}
    </tbody>

  </table>
  
{% endblock %}
